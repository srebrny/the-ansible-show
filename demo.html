<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">

    <title>The (ansible) Show - base information @ srebniak.pl</title>

    <meta name="description" content="Simple presentation about ansible ">
    <meta name="author" content="Paweł 'Srebrny' Srebniak">

    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/league.css" id="theme">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <script>
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
        document.getElementsByTagName('head')[0].appendChild(link);
    </script>

    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
</head>

<body>

<div class="reveal">

    <!-- Any section element inside of this container is displayed as a slide -->
    <div class="slides">
        <section>
            <h1>ansible</h1>
            <h2>The Show</h2>
            <h3>Automation for everyone</h3>
            <p>
                <small>Created by <a
                        href="http://pycode.biz/?utm_source=githubc&utm_medium=presentation&utm_term=first_page&utm_content=page&utm_campaign=the_ansible_show">Paweł
                    'Srebrny' Srebniak</a> / <a href="https://twitter.com/srebrny_dev">@srebrny_dev</a></small>
            </p>
        </section>

        <section>
            <section>
                <h2>@srebrny_dev</h2>
                <p>Who I am</p>
                <a href="#" class="navigate-down">
                    <img width="208" height="268" data-src="./1-220a.jpg" alt="Down arrow"/>
                </a>
            </section>
            <section>
                <h2>As developer - 10 year of PHP </h2>
                <p>Nested slides are useful for adding additional detail underneath a high level horizontal slide.</p>
            </section>
            <section>
                <h2>Python <3 - 3 years</h2>
                <p>That's it, time to go back up.</p>
                <br>
                <a href="#/2">
                    <img width="178" height="238" data-src="https://s3.amazonaws.com/hakim-static/reveal-js/arrow.png"
                         alt="Up arrow" style="transform: rotate(180deg); -webkit-transform: rotate(180deg);">
                </a>
            </section>
            <section>
                <h2>DevOps - 2 year</h2>
                <p>That's it, time to go back up.</p>
                <br>
                <a href="#/2">
                    <img width="178" height="238" data-src="https://s3.amazonaws.com/hakim-static/reveal-js/arrow.png"
                         alt="Up arrow" style="transform: rotate(180deg); -webkit-transform: rotate(180deg);">
                </a>
            </section>
        </section>

        <!-- Strutura katalogów -->
        <section>
            <section>
                <h2>Directory structure</h2>

                <p>I use advenced directory structure</p>

                <p>See more at <a
                        href="http://docs.ansible.com/ansible/playbooks_best_practices.html#alternative-directory-layout">best
                    practices</a>.
                </p>
            </section>

            <section>
                <h2>Directory structure</h2>
                <pre>
                    <code class="hljs" data-trim contenteditable>
inventories/
    production/
        hosts    # inventory file for production servers
        group_vars/
        host_vars/
    ...
library/
filter_plugins/

roles/
    common/
    application/
    ...

main.yml
                    </code>
                </pre>
            </section>
            <section>
                <h2>Inventory</h2>
                <pre><code class="hljs" data-trim contenteditable>
hosts               # inventory file for production servers
group_vars/
    group1           # here we assign variables to particular groups
    group2           # ""
host_vars/
    hostname1        # if systems need specific variables, put them here
    hostname2        # ""
                    </code></pre>
            </section>


            <section>
                <h2>Directory structure</h2>
                <p>library required for custom modules, eg. do-cli, openstack_ext</p>
                <pre><code class="hljs" data-trim contenteditable>
                    library/ # (optional)
                     </code></pre>
            </section>

            <section>
                <h2>Directory structure</h2>
                <p>Put here custom filter for filter inventories. see: do-json-inventory.py</p>
                <pre><code class="hljs" data-trim contenteditable>
                filter_plugins/ # if any custom filter plugins, put them here (optional)
                </code></pre>
            </section>

            <section>
                <h2>Directory structure</h2>
                <p>Every roles goes into new directory.</p>
                <pre>
                    <code class="hljs" data-trim contenteditable>
roles/
    common/
    webtier/
    monitoring/
    fooapp/
                    </code>
                </pre>
            </section>

            <section>
                <h2>Directory structure</h2>
                <p>Playbooks names should describe what playbook do!</p>
                <p class="fragment fade-up highlight-red">site.yml</p>
                <p class="fragment fade-up highlight-red">webservers.yml</p>
                <p class="fragment fade-up highlight-red">dbservers.yml</p>
                <p class="fragment fade-up highlight-green">deploy_tools.yml</p>
                <p class="fragment fade-up highlight-green">secure_new_host.yml</p>
                <p class="fragment fade-up highlight-green">deploy_tools.yml</p>
                <p class="fragment fade-up highlight-green">update_balancer_nodes.yml</p>
            </section>


            <section>
                <h2>Role directory structure</h2>

                roles/
                common/ # this hierarchy represents a "role"
                tasks/ #
                main.yml # <-- tasks file can include smaller files if warranted
                handlers/ #
                main.yml # <-- handlers file
                templates/ # <-- files for use with the template resource
                ntp.conf.j2 # <------- templates end in .j2
                files/ #
                bar.txt # <-- files for use with the copy resource
                foo.sh # <-- script files for use with the script resource
                vars/ #
                main.yml # <-- variables associated with this role
                defaults/ #
                main.yml # <-- default lower priority variables for this role
                meta/ #
                main.yml # <-- role dependencies
                library/ # roles can also include custom modules
                lookup_plugins/ # or other types of plugins, like lookup in this case

            </section>

            <section>
                <p>Production inventories, group variables and per host variables.</p>
                <pre><code class="hljs" data-trim contenteditable>
                    inventories/
                        production/
                            hosts # inventory file for production servers
                            group_vars/
                                group1 # here we assign variables to particular groups
                                group2 # ""
                            host_vars/
                                hostname1 # if systems need specific variables, put them here
                                hostname2 # ""

                </code></pre>
            </section>

            <section>
                <p>Staging inventories, group variables and per host variables.</p>
                <p>other infrastructure perferences. For other clients etc. </p>
                <pre><code class="hljs" data-trim contenteditable>
                    inventories/
                        staging/
                            hosts # inventory file for staging environment
                            group_vars/
                                group1 # here we assign variables to particular groups
                                group2 # ""
                            host_vars/
                                stagehost1 # if systems need specific variables, put them here
                                stagehost2 # ""

                </code></pre>

            </section>
        </section>
        <!-- End of Strutura katalogów -->

        <section>
            Before we start using variables it’s important to know what are valid variable names.

            Variable names should be letters, numbers, and underscores. Variables should always start with a letter.

            foo_port is a great variable. foo5 is fine too.

            foo-port, foo port, foo.port and 12 are not valid variable names.
            dobre na zieolo a złe na czerwono zakolorować !

            - Variables ( per host, group, all, defaults, from console)
            - Variables kolejność includowania,
        </section>
        <section>
            - Opis inventories

            mail.example.com

            [webservers]
            foo.example.com
            bar.example.com

            [dbservers]
            one.example.com
            two.example.com
            three.example.com


            //=========
            jumper ansible_port=5555 ansible_host=192.0.2.50 <- params for specific hosts

            /------------- More host
            [webservers]
            www[01:50].example.com

            [databases]
            db-[a:f].example.com

            //-----

            group vars in inventories
            [atlanta:vars]
            ntp_server=ntp.atlanta.example.com
            proxy=proxy.atlanta.example.com

            //----------------------

            [atlanta]
            host1
            host2

            [raleigh]
            host2
            host3

            [southeast:children]
            atlanta
            raleigh

            [southeast:vars]
            some_server=foo.southeast.example.com
            halon_system_timeout=30
            self_destruct_countdown=60
            escape_pods=2

            [usa:children]
            southeast
            northeast
            southwest
            northwest
            //----------------------

        </section>

        <section>

            - Wywołanie komend na serwerach
            - wywołanie komend na serwerach bez playbooka?
            - np. apt isntall
        </section>

        <section>
            - kopiowanie plików
        </section>
        <section>- generowanie templatek
            - Templatki
        </section>
        <section>
            - Tagi jak i po co?
        </section>
        <section>
            - Używanie modułu na przykładzie cloudflare
        </section>
        <section>
            - ansible Galaxy
        </section>


        <section>
            <section data-background-video="http://i.imgur.com/H3BR7EA.mp4" data-background-color="#000000">
                <div style="background-color: rgba(0, 0, 0, 0.9); color: #fff; padding: 20px;">
                    <h2>Questions?</h2>
                </div>
            </section>
        </section>

        <section>
            <h2>Links </h2>
            <ul>
                <li><a href="https://srebniak.pl/">srebniak.pl</a></li>
                <li><a href="http://docs.ansible.com/ansible/playbooks_best_practices.html">Ansible best practices</a>
                </li>
                <li><a href="http://docs.ansible.com/ansible/modules_by_category.html">Ansible modules</a></li>
                <li><a href="https://galaxy.ansible.com/explore">Ansible Galaxy</a></li>
                <li><a href="https://pyCode.biz/oferta/szkolenia/ansible">Oferta szkoleniowa</a></li>
            </ul>
        </section>

    </div>

</div>

<script src="lib/js/head.min.js"></script>
<script src="js/reveal.js"></script>

<script>

    // More info https://github.com/hakimel/reveal.js#configuration
    Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,

        transition: 'slide', // none/fade/slide/convex/concave/zoom

        // More info https://github.com/hakimel/reveal.js#dependencies
        dependencies: [
            {
                src: 'lib/js/classList.js', condition: function () {
                return !document.body.classList;
            }
            },
            {
                src: 'plugin/markdown/marked.js', condition: function () {
                return !!document.querySelector('[data-markdown]');
            }
            },
            {
                src: 'plugin/markdown/markdown.js', condition: function () {
                return !!document.querySelector('[data-markdown]');
            }
            },
            {
                src: 'plugin/highlight/highlight.js', async: true, callback: function () {
                hljs.initHighlightingOnLoad();
            }
            },
            {src: 'plugin/zoom-js/zoom.js', async: true},
            {src: 'plugin/notes/notes.js', async: true}
        ]
    });

</script>

</body>
</html>
